(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9358],{10255:(e,t,s)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),s(95155),s(47650),s(85744),s(20589)},17828:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,s(64054).createAsyncLocalStorage)()},36645:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=s(88229)._(s(67357));function l(e,t){var s;let l={};"function"==typeof e&&(l.loader=e);let r={...l,...t};return(0,n.default)({...r,modules:null==(s=r.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43244:(e,t,s)=>{Promise.resolve().then(s.bind(s,65896))},54629:(e,t,s)=>{"use strict";s.d(t,{Bm:()=>N,CT:()=>C,Fi:()=>G,Gr:()=>S,Nb:()=>I,Sr:()=>M,VJ:()=>F,WI:()=>L,Xp:()=>z,ZH:()=>O,_O:()=>w,f5:()=>g,ff:()=>v,fl:()=>E,iU:()=>P,ky:()=>R,lM:()=>_,ms:()=>T,nk:()=>b,r4:()=>D,tX:()=>B,zD:()=>A,zW:()=>k});var n=s(95155),l=s(35169),r=s(49103),a=s(29869),i=s(14395),o=s(13717),c=s(74126),d=s(14186),u=s(57434),x=s(17580),m=s(17576),f=s(33786),p=s(10351),h=s(29911),j=s(58828),y=s(6678);let b=e=>(0,n.jsx)(l.A,{...e}),g=e=>(0,n.jsx)(r.A,{...e}),w=e=>(0,n.jsx)(a.A,{...e}),N=e=>(0,n.jsx)(i.A,{...e}),v=e=>(0,n.jsx)(o.A,{...e}),_=e=>(0,n.jsx)(c.A,{...e}),A=e=>(0,n.jsx)(d.A,{...e}),P=e=>(0,n.jsx)(u.A,{...e}),k=e=>(0,n.jsx)(x.A,{...e}),O=e=>(0,n.jsx)(m.A,{...e}),S=e=>(0,n.jsx)(f.A,{...e}),E=e=>(0,n.jsx)(p.dyV,{...e}),C=e=>(0,n.jsx)(p.wIk,{...e}),D=e=>(0,n.jsx)(p.pHD,{...e}),M=e=>(0,n.jsx)(p.YrT,{...e}),T=e=>(0,n.jsx)(p.y3G,{...e}),L=e=>(0,n.jsx)(p.CKj,{...e}),I=e=>(0,n.jsx)(h.hL4,{...e}),G=e=>(0,n.jsx)(h.feZ,{...e}),R=e=>(0,n.jsx)(h.QEs,{...e}),F=e=>(0,n.jsx)(h.Vk6,{...e}),z=e=>(0,n.jsx)(j.A,{...e}),B=e=>(0,n.jsx)(y.A,{...e})},55028:(e,t,s)=>{"use strict";s.d(t,{default:()=>l.a});var n=s(36645),l=s.n(n)},62146:(e,t,s)=>{"use strict";function n(e){let{reason:t,children:s}=e;return s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),s(45262)},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{bindSnapshot:function(){return a},createAsyncLocalStorage:function(){return r},createSnapshot:function(){return i}});let s=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw s}getStore(){}run(){throw s}exit(){throw s}enterWith(){throw s}static bind(e){return e}}let l="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function r(){return l?new l:new n}function a(e){return l?l.bind(e):n.bind(e)}function i(){return l?l.snapshot():function(e,...t){return e(...t)}}},65896:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(95155),l=s(12115),r=s(6874),a=s.n(r),i=s(77673),o=s(55028);let c=(0,o.default)(()=>Promise.all([s.e(8568),s.e(7368)]).then(s.bind(s,47937)).then(e=>e.PlusCircle),{loadableGenerated:{webpack:()=>[47937]},ssr:!1,loading:()=>(0,n.jsx)("span",{className:"inline-block h-4 w-4"})}),d=(0,o.default)(()=>Promise.all([s.e(8568),s.e(7368)]).then(s.bind(s,47937)).then(e=>e.Edit),{loadableGenerated:{webpack:()=>[47937]},ssr:!1,loading:()=>(0,n.jsx)("span",{className:"inline-block h-4 w-4"})});function u(){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)([]),[o,u]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{t(!0)},[]),(0,l.useEffect)(()=>{e&&async function(){try{let e=await fetch("/api/posts");if(e.ok){let t=await e.json();r(t)}else console.error("Failed to fetch posts")}catch(e){console.error("Error fetching posts:",e)}finally{u(!1)}}()},[e]),e)?(0,n.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,n.jsxs)("div",{className:"sm:flex-auto",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Posts"}),(0,n.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"A list of all the posts on your website."})]}),(0,n.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,n.jsxs)(a(),{href:"/admin/posts/new",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:w-auto",children:[(0,n.jsx)(c,{className:"h-4 w-4 mr-2"}),"Add post"]})})]}),(0,n.jsx)("div",{className:"mt-8 flex flex-col",children:(0,n.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,n.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,n.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Title"}),(0,n.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Author"}),(0,n.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,n.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Date"}),(0,n.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,n.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,n.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.length>0?s.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:e.title}),(0,n.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.author.name}),(0,n.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:(0,n.jsx)("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold leading-5 ".concat(e.published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.published?"Published":"Draft"})}),(0,n.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,n.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,n.jsxs)(a(),{href:"/admin/posts/".concat(e.id),className:"text-blue-600 hover:text-blue-900",children:[(0,n.jsx)(d,{className:"h-4 w-4"}),(0,n.jsxs)("span",{className:"sr-only",children:["Edit ",e.title]})]}),(0,n.jsx)(i.e,{title:e.title,itemId:e.id,resourceType:"posts"})]})})]},e.id)):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:5,className:"py-4 text-center text-sm text-gray-500",children:"No posts found. Create your first post!"})})})]})})})})})]}):(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}},67357:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=s(95155),l=s(12115),r=s(62146);function a(e){return{default:e&&"default"in e?e.default:e}}s(10255);let i={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},s=(0,l.lazy)(()=>t.loader().then(a)),o=t.loading;function c(e){let a=o?(0,n.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,c=i?l.Suspense:l.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(s,{...e})]}):(0,n.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(s,{...e})});return(0,n.jsx)(c,{...i?{fallback:a}:{},children:d})}return c.displayName="LoadableComponent",c}},77673:(e,t,s)=>{"use strict";s.d(t,{e:()=>r});var n=s(95155),l=s(54629);function r(e){let{title:t,itemId:s,resourceType:r}=e,a=async()=>{window.confirm("Are you sure you want to delete ".concat(t,"?"))&&alert("Delete ".concat(t," (ID: ").concat(s||"unknown",", Type: ").concat(r||"unknown",")"))};return(0,n.jsxs)("button",{className:"text-red-600 hover:text-red-900",onClick:a,children:[(0,n.jsx)(l.lM,{className:"h-4 w-4"}),(0,n.jsxs)("span",{className:"sr-only",children:["Delete ",t]})]})}},85744:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=s(17828)}},e=>{var t=t=>e(e.s=t);e.O(0,[844,6711,6874,6236,8441,1684,7358],()=>t(43244)),_N_E=e.O()}]);