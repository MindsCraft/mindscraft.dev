(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[912],{16957:(e,s,t)=>{Promise.resolve().then(t.bind(t,46082))},35695:(e,s,t)=>{"use strict";var r=t(18999);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},46082:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(95155),l=t(12115),a=t(35695),n=t(6874),o=t.n(n),d=t(54629);function i(){let[e,s]=(0,l.useState)(!1),t=(0,a.useRouter)(),[n,i]=(0,l.useState)(!1),[u,c]=(0,l.useState)({title:"",slug:"",description:"",content:"",image:"",url:"",githubUrl:"",tags:[],featured:!1}),[m,x]=(0,l.useState)("");if((0,l.useEffect)(()=>{s(!0)},[]),!e)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});let b=e=>{let{name:s,value:t,type:r}=e.target;if("checkbox"===r){let t=e.target.checked;c(e=>({...e,[s]:t}))}else c(e=>({...e,[s]:t}))},g=()=>{let e=u.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-");c(s=>({...s,slug:e}))},h=()=>{m.trim()&&Array.isArray(u.tags)&&!u.tags.includes(m.trim())&&(c(e=>({...e,tags:Array.isArray(e.tags)?[...e.tags,m.trim()]:[m.trim()]})),x(""))},f=e=>{c(s=>({...s,tags:Array.isArray(s.tags)?s.tags.filter(s=>s!==e):[]}))},j=async e=>{e.preventDefault(),i(!0);try{if(!(await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok)throw Error("Failed to create project");t.push("/admin/projects"),t.refresh()}catch(e){console.error("Error creating project:",e),alert("Failed to create project. Please try again.")}finally{i(!1)}};return(0,r.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)(o(),{href:"/admin/projects",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-500",children:[(0,r.jsx)(d.nk,{className:"mr-1 h-4 w-4"}),"Back to projects"]}),(0,r.jsx)("h1",{className:"mt-2 text-2xl font-bold text-gray-900",children:"Create New Project"})]}),(0,r.jsxs)("form",{onSubmit:j,className:"space-y-6 max-w-3xl",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,r.jsx)("input",{type:"text",name:"title",id:"title",required:!0,value:u.title,onChange:b,onBlur:()=>!u.slug&&g(),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700",children:"Slug"}),(0,r.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,r.jsx)("input",{type:"text",name:"slug",id:"slug",required:!0,value:u.slug,onChange:b,className:"block w-full flex-1 rounded-none rounded-l-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),(0,r.jsx)("button",{type:"button",onClick:g,className:"inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 text-sm text-gray-500 hover:bg-gray-100",children:"Generate"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("textarea",{name:"description",id:"description",rows:2,required:!0,value:u.description,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Content"}),(0,r.jsx)("textarea",{name:"content",id:"content",rows:10,required:!0,value:u.content,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Image URL"}),(0,r.jsx)("input",{type:"url",name:"image",id:"image",value:u.image,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"Project URL"}),(0,r.jsx)("input",{type:"url",name:"url",id:"url",value:u.url,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"githubUrl",className:"block text-sm font-medium text-gray-700",children:"GitHub URL"}),(0,r.jsx)("input",{type:"url",name:"githubUrl",id:"githubUrl",value:u.githubUrl,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Tags"}),(0,r.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,r.jsx)("input",{type:"text",id:"tags",value:m,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),h()),className:"block w-full flex-1 rounded-none rounded-l-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Add a tag"}),(0,r.jsx)("button",{type:"button",onClick:h,className:"inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 text-sm text-gray-500 hover:bg-gray-100",children:"Add"})]}),(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:Array.isArray(u.tags)&&u.tags.map((e,s)=>(0,r.jsxs)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:[e,(0,r.jsxs)("button",{type:"button",onClick:()=>f(e),className:"ml-1 inline-flex h-4 w-4 flex-shrink-0 items-center justify-center rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:bg-blue-500 focus:text-white focus:outline-none",children:[(0,r.jsxs)("span",{className:"sr-only",children:["Remove ",e]}),"\xd7"]})]},s))})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"featured",name:"featured",type:"checkbox",checked:u.featured,onChange:b,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"featured",className:"ml-2 block text-sm text-gray-900",children:"Featured project"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)(o(),{href:"/admin/projects",className:"rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:n,className:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:n?"Saving...":"Save"})]})]})]})}},54629:(e,s,t)=>{"use strict";t.d(s,{Bm:()=>v,CT:()=>P,Fi:()=>O,Gr:()=>U,Nb:()=>L,Sr:()=>_,VJ:()=>G,WI:()=>T,Xp:()=>B,ZH:()=>S,_O:()=>N,f5:()=>p,ff:()=>w,fl:()=>E,iU:()=>C,ky:()=>q,lM:()=>k,ms:()=>D,nk:()=>y,r4:()=>R,tX:()=>H,zD:()=>A,zW:()=>F});var r=t(95155),l=t(35169),a=t(49103),n=t(29869),o=t(14395),d=t(13717),i=t(74126),u=t(14186),c=t(57434),m=t(17580),x=t(17576),b=t(33786),g=t(10351),h=t(29911),f=t(58828),j=t(6678);let y=e=>(0,r.jsx)(l.A,{...e}),p=e=>(0,r.jsx)(a.A,{...e}),N=e=>(0,r.jsx)(n.A,{...e}),v=e=>(0,r.jsx)(o.A,{...e}),w=e=>(0,r.jsx)(d.A,{...e}),k=e=>(0,r.jsx)(i.A,{...e}),A=e=>(0,r.jsx)(u.A,{...e}),C=e=>(0,r.jsx)(c.A,{...e}),F=e=>(0,r.jsx)(m.A,{...e}),S=e=>(0,r.jsx)(x.A,{...e}),U=e=>(0,r.jsx)(b.A,{...e}),E=e=>(0,r.jsx)(g.dyV,{...e}),P=e=>(0,r.jsx)(g.wIk,{...e}),R=e=>(0,r.jsx)(g.pHD,{...e}),_=e=>(0,r.jsx)(g.YrT,{...e}),D=e=>(0,r.jsx)(g.y3G,{...e}),T=e=>(0,r.jsx)(g.CKj,{...e}),L=e=>(0,r.jsx)(h.hL4,{...e}),O=e=>(0,r.jsx)(h.feZ,{...e}),q=e=>(0,r.jsx)(h.QEs,{...e}),G=e=>(0,r.jsx)(h.Vk6,{...e}),B=e=>(0,r.jsx)(f.A,{...e}),H=e=>(0,r.jsx)(j.A,{...e})}},e=>{var s=s=>e(e.s=s);e.O(0,[844,6711,6874,6236,8441,1684,7358],()=>s(16957)),_N_E=e.O()}]);